<div class="inline-content">
  <div *ngIf="!selectedModel">
    <div *ngIf="isLoading" class="loading">
      <mat-spinner [diameter]="30" class="loading"></mat-spinner>
    </div>

    <!-- <div [hidden]="isLoading">
      <button mat-raised-button color="primary" (click)="getModels()">刷新</button>
      <button mat-raised-button *ngFor="let model of models | async" (click)="select(model);showAdd=false">{{model.model_standard_name}}</button>
    </div> -->
    
      <!-- <button mat-raised-button (click)="showAdd = !showAdd; selectedModel = false">{{showAdd ? '取消添加' : '添加模块'}}</button> -->
    <!-- <p>Form value: {{ models | json }}</p> -->

    <div [hidden]="isLoading">
      <h3>模块列表</h3>
      <button mat-mini-fab color="primary" (click)="getModels()" class="float-button"><mat-icon>refresh</mat-icon></button>
      <mat-table #table [dataSource]="dataSource">
          <ng-container matColumnDef="model_standard_name">
              <mat-header-cell *matHeaderCellDef> 模块名称 </mat-header-cell>
              <mat-cell *matCellDef="let element">
                  <button mat-button color="primary" (click)="select(element);" class="button_inside_table">{{element.name}} </button>
              </mat-cell>
          </ng-container>

          <ng-container matColumnDef="remark">
              <mat-header-cell *matHeaderCellDef> 说明 </mat-header-cell>
              <mat-cell *matCellDef="let element"> {{element.remark}} </mat-cell>
          </ng-container>

          <ng-container matColumnDef="registrant">
              <mat-header-cell *matHeaderCellDef> 登记人 </mat-header-cell>
              <mat-cell *matCellDef="let element"> {{element.registrant}} </mat-cell>
          </ng-container>

          <mat-header-row *matHeaderRowDef="displayedColumns"></mat-header-row>
          <mat-row *matRowDef="let row; columns: displayedColumns;"></mat-row>
      </mat-table>
    </div>
    <div [hidden]="isLoading">
        <mat-paginator #paginator
            [pageSize]="10"
            [pageSizeOptions]="[5, 10, 25, 100]"
            [showFirstLastButtons]="true">
        </mat-paginator>
    </div>
  </div>

  <!-- <div *ngIf="showAdd">
    <man-model-add></man-model-add>
  </div> -->

  <div *ngIf="selectedModel">
    <br/>
    <mat-tab-group>
      <mat-tab label="预览">
        <h3>预览的模块: {{selectedModel.model_standard_name}}</h3>
        <man-model-preview [model]="selectedModel"></man-model-preview>
      </mat-tab>
      <mat-tab label="编辑">
        <h3>编辑的模块: {{selectedModel.model_standard_name}}</h3>
        <man-model-edit [model]="selectedModel"></man-model-edit>
      </mat-tab>
    </mat-tab-group>

    <div>
      <button mat-raised-button color="primary" (click)="selectedModel = !selectedModel;">返回</button>
    </div>
  </div>

</div>